<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>EPAPI: PktHandler Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>PktHandler Class Reference</h1><!-- doxytag: class="PktHandler" --><!-- doxytag: inherits="epapiBase" --><code>#include &lt;<a class="el" href="epapi__pkt_8h-source.html">epapi_pkt.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for PktHandler:</div>
<div class="dynsection">
<p><center><img src="classPktHandler__inherit__graph.png" border="0" usemap="#PktHandler__inherit__map" alt="Inheritance graph"></center>
<map name="PktHandler__inherit__map">
<area shape="rect" href="classepapiBase.html" title="epapiBase" alt="" coords="7,7,89,31"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for PktHandler:</div>
<div class="dynsection">
<p><center><img src="classPktHandler__coll__graph.png" border="0" usemap="#PktHandler__coll__map" alt="Collaboration graph"></center>
<map name="PktHandler__coll__map">
<area shape="rect" href="classepapiBase.html" title="epapiBase" alt="" coords="7,7,89,31"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#ab4d1fe6e7b6750dff081aab0b95781c">PktHandler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#78bafcafe540e507ba8970d947b6c411">PktHandler</a> (int <a class="el" href="classPktHandler.html#ffb52d75a73f5a05e545c87d1c7215d0">ifd</a>, int <a class="el" href="classPktHandler.html#440aea8cfa67187395f6d0d84f89d4b8">ofd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#6cc161858b09da22735f55b9ef03e28d">~PktHandler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#56748d308510b82fcbcc91a9a54b0634">rx</a> (<a class="el" href="classPkt.html">Pkt</a> **p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#d6aca6f641ade2123b2e068e4cc9804e">tx</a> (<a class="el" href="classPkt.html">Pkt</a> *p)</td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#15134548b41943573e2f174246bf1acd">rx_exact</a> (<a class="el" href="classPkt.html">Pkt</a> **p, int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#295fe6d253062fd4f65a50c189127652">tx_exact</a> (char *buf, int len)</td></tr>

<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#ffb52d75a73f5a05e545c87d1c7215d0">ifd</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPktHandler.html#440aea8cfa67187395f6d0d84f89d4b8">ofd</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Packet Handler<p>
This class enables customization of the packet handling layer by providing the capability to configure the input file descriptor and output file descriptor. The defaults are "stdin" and "stdout". 
<p>Definition at line <a class="el" href="epapi__pkt_8h-source.html#l00107">107</a> of file <a class="el" href="epapi__pkt_8h-source.html">epapi_pkt.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="ab4d1fe6e7b6750dff081aab0b95781c"></a><!-- doxytag: member="PktHandler::PktHandler" ref="ab4d1fe6e7b6750dff081aab0b95781c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PktHandler::PktHandler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor<p>
Standard input and output descriptors ie. stdin and stdout 
<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00105">105</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi__pkt_8h-source.html#l00110">ifd</a>, <a class="el" href="epapi_8h-source.html#l00202">epapiBase::last_error</a>, and <a class="el" href="epapi__pkt_8h-source.html#l00111">ofd</a>.</p>

</div>
</div><p>
<a class="anchor" name="78bafcafe540e507ba8970d947b6c411"></a><!-- doxytag: member="PktHandler::PktHandler" ref="78bafcafe540e507ba8970d947b6c411" args="(int ifd, int ofd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PktHandler::PktHandler           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ifd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ofd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ifd</em>&nbsp;</td><td>input file descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ofd</em>&nbsp;</td><td>output file descriptor </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00111">111</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi__pkt_8h-source.html#l00110">ifd</a>, <a class="el" href="epapi_8h-source.html#l00202">epapiBase::last_error</a>, and <a class="el" href="epapi__pkt_8h-source.html#l00111">ofd</a>.</p>

</div>
</div><p>
<a class="anchor" name="6cc161858b09da22735f55b9ef03e28d"></a><!-- doxytag: member="PktHandler::~PktHandler" ref="6cc161858b09da22735f55b9ef03e28d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PktHandler::~PktHandler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00117">117</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="56748d308510b82fcbcc91a9a54b0634"></a><!-- doxytag: member="PktHandler::rx" ref="56748d308510b82fcbcc91a9a54b0634" args="(Pkt **p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PktHandler::rx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPkt.html">Pkt</a> **&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receive packet<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>pointer to packet pointer</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 SUCCESS <p>
1 FAILURE</dd></dl>
Waits for a complete packet<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 SUCCESS <p>
1 FAILURE </dd></dl>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00154">154</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi_8h-source.html#l00171">DBGLOG</a>, <a class="el" href="epapi_8h-source.html#l00182">EEPAPI_ERRNO</a>, <a class="el" href="epapi_8h-source.html#l00202">epapiBase::last_error</a>, and <a class="el" href="epapi__pkt_8cc-source.html#l00130">rx_exact()</a>.</p>

<p>Referenced by <a class="el" href="epapi__msg_8cc-source.html#l00378">MsgHandler::rx()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_56748d308510b82fcbcc91a9a54b0634_cgraph.png" border="0" usemap="#classPktHandler_56748d308510b82fcbcc91a9a54b0634_cgraph_map" alt=""></center>
<map name="classPktHandler_56748d308510b82fcbcc91a9a54b0634_cgraph_map">
<area shape="rect" href="classPktHandler.html#15134548b41943573e2f174246bf1acd" title="PktHandler::rx_exact" alt="" coords="157,6,301,30"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_56748d308510b82fcbcc91a9a54b0634_icgraph.png" border="0" usemap="#classPktHandler_56748d308510b82fcbcc91a9a54b0634_icgraph_map" alt=""></center>
<map name="classPktHandler_56748d308510b82fcbcc91a9a54b0634_icgraph_map">
<area shape="rect" href="classMsgHandler.html#d9322ab0abd919cc9908f52bc1aa2169" title="MsgHandler::rx" alt="" coords="157,6,267,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="d6aca6f641ade2123b2e068e4cc9804e"></a><!-- doxytag: member="PktHandler::tx" ref="d6aca6f641ade2123b2e068e4cc9804e" args="(Pkt *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PktHandler::tx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPkt.html">Pkt</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transmit packet<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>pointer to packet</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 SUCCESS <p>
1 FAILURE</dd></dl>
Transmits a packet<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 SUCCESS <p>
1 FAILURE </dd></dl>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00194">194</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi_8h-source.html#l00182">EEPAPI_ERRNO</a>, <a class="el" href="epapi__pkt_8cc-source.html#l00035">Pkt::getTxBuf()</a>, <a class="el" href="epapi_8h-source.html#l00202">epapiBase::last_error</a>, and <a class="el" href="epapi__pkt_8cc-source.html#l00234">tx_exact()</a>.</p>

<p>Referenced by <a class="el" href="epapi__msg_8cc-source.html#l00241">MsgHandler::send()</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_cgraph.png" border="0" usemap="#classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_cgraph_map" alt=""></center>
<map name="classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_cgraph_map">
<area shape="rect" href="classPkt.html#e4b18454e4706a91e38c219f14676ed5" title="Pkt::getTxBuf" alt="" coords="179,6,280,30"><area shape="rect" href="classPktHandler.html#295fe6d253062fd4f65a50c189127652" title="PktHandler::tx_exact" alt="" coords="157,54,301,78"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_icgraph.png" border="0" usemap="#classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_icgraph_map" alt=""></center>
<map name="classPktHandler_d6aca6f641ade2123b2e068e4cc9804e_icgraph_map">
<area shape="rect" href="classMsgHandler.html#511d52b5e26c58657c3afcfb4be8450f" title="MsgHandler::send" alt="" coords="159,6,284,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="15134548b41943573e2f174246bf1acd"></a><!-- doxytag: member="PktHandler::rx_exact" ref="15134548b41943573e2f174246bf1acd" args="(Pkt **p, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PktHandler::rx_exact           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classPkt.html">Pkt</a> **&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receive (blocking) a packet<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>packet pointer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>packet length</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>&gt;0 LEN read <p>
&lt;=0 ERROR, check errno</dd></dl>
Waits for 'len' bytes from the input pipe<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>&gt;=0 len retrieved <p>
&lt;0 ERROR eg. EPIPE <p>
0 ERROR / EOF </dd></dl>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00130">130</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi__pkt_8h-source.html#l00110">ifd</a>.</p>

<p>Referenced by <a class="el" href="epapi__pkt_8cc-source.html#l00154">rx()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_15134548b41943573e2f174246bf1acd_icgraph.png" border="0" usemap="#classPktHandler_15134548b41943573e2f174246bf1acd_icgraph_map" alt=""></center>
<map name="classPktHandler_15134548b41943573e2f174246bf1acd_icgraph_map">
<area shape="rect" href="classPktHandler.html#56748d308510b82fcbcc91a9a54b0634" title="PktHandler::rx" alt="" coords="197,6,301,30"><area shape="rect" href="classMsgHandler.html#d9322ab0abd919cc9908f52bc1aa2169" title="MsgHandler::rx" alt="" coords="349,6,459,30"></map>
</div>

</div>
</div><p>
<a class="anchor" name="295fe6d253062fd4f65a50c189127652"></a><!-- doxytag: member="PktHandler::tx_exact" ref="295fe6d253062fd4f65a50c189127652" args="(char *buf, int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int PktHandler::tx_exact           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transmits (blocking) a packet<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>packet buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>packet length</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>&gt;0 LEN written <p>
&lt;=0 ERROR, check errno </dd></dl>

<p>Definition at line <a class="el" href="epapi__pkt_8cc-source.html#l00234">234</a> of file <a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a>.</p>

<p>References <a class="el" href="epapi__pkt_8h-source.html#l00111">ofd</a>.</p>

<p>Referenced by <a class="el" href="epapi__pkt_8cc-source.html#l00194">tx()</a>.</p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="classPktHandler_295fe6d253062fd4f65a50c189127652_icgraph.png" border="0" usemap="#classPktHandler_295fe6d253062fd4f65a50c189127652_icgraph_map" alt=""></center>
<map name="classPktHandler_295fe6d253062fd4f65a50c189127652_icgraph_map">
<area shape="rect" href="classPktHandler.html#d6aca6f641ade2123b2e068e4cc9804e" title="PktHandler::tx" alt="" coords="197,6,301,30"><area shape="rect" href="classMsgHandler.html#511d52b5e26c58657c3afcfb4be8450f" title="MsgHandler::send" alt="" coords="351,6,476,30"></map>
</div>

</div>
</div><p>
<hr><h2>Field Documentation</h2>
<a class="anchor" name="ffb52d75a73f5a05e545c87d1c7215d0"></a><!-- doxytag: member="PktHandler::ifd" ref="ffb52d75a73f5a05e545c87d1c7215d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classPktHandler.html#ffb52d75a73f5a05e545c87d1c7215d0">PktHandler::ifd</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="epapi__pkt_8h-source.html#l00110">110</a> of file <a class="el" href="epapi__pkt_8h-source.html">epapi_pkt.h</a>.</p>

<p>Referenced by <a class="el" href="epapi__pkt_8cc-source.html#l00105">PktHandler()</a>, and <a class="el" href="epapi__pkt_8cc-source.html#l00130">rx_exact()</a>.</p>

</div>
</div><p>
<a class="anchor" name="440aea8cfa67187395f6d0d84f89d4b8"></a><!-- doxytag: member="PktHandler::ofd" ref="440aea8cfa67187395f6d0d84f89d4b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classPktHandler.html#440aea8cfa67187395f6d0d84f89d4b8">PktHandler::ofd</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="epapi__pkt_8h-source.html#l00111">111</a> of file <a class="el" href="epapi__pkt_8h-source.html">epapi_pkt.h</a>.</p>

<p>Referenced by <a class="el" href="epapi__pkt_8cc-source.html#l00105">PktHandler()</a>, and <a class="el" href="epapi__pkt_8cc-source.html#l00234">tx_exact()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>lib/include/<a class="el" href="epapi__pkt_8h-source.html">epapi_pkt.h</a><li>lib/src/<a class="el" href="epapi__pkt_8cc-source.html">epapi_pkt.cc</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jun 9 10:10:23 2009 for EPAPI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
